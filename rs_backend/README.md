
#RentMySpace
## Description
Have you gone to a beach on weekends and struggled to get a parking spot or 
had trouble in finding a place to park near big events like the 4th of July firework ? 
Or do you wish to host a swimming pool party but are restriced because you 
don't have swimming pool in your house? 

‘Rent My Space’ app can provide solutions to these problems. This app provides a 
listing of all the properties for renters to book. The renters can book the 
property for using the driveway, backyard swimming pool or other spaces.

## Users 
There are 2 types of users for this app 1) property owners and 2) renters
The property owners will provide information about their property that they 
plan to rent through a form input. The property will then be listed on the app. 
The renter can book the property based on the availability. The renter can  make 
payments to the owner for using the property. 

## Data Source and API
The data for this app will be generated by the users of the app( the owners and
renters). The CRUD operations can be performed through the end points of the REST API. An external google API is accessed to get the maps of the property.

## Live Server
The site is deployed on Heroku and can be found here [<img src="images/rentMySpace.png">](https://rentmyspace.surge.sh/)

## Tech Stack
* The front end React app (client)
* The backend Express (Node.js) server.
* Database: PostgreSQL 

## Features
* Property Listings
* User sign in, authentication
* File uploads from client to server
* Booking calendar
* Restricted page access

## User Flow
* User signs into account with user details
* User logs in using username and passowrd
* For hosting property add properties through 'Host' link
* Property will be listed in the listings page.
* To Book a property click 'Make Reservations' from listings page.
* My profile displays a list of properties and bookings for the user.

## How to run the application
* Download from the git hub link ( or fork)
* To start the server: 1) cd backend 2) npm install 3) npm start
* To start the client: 2) cd frontend 2) npm install 3) npm start

## API end points

## DB Schema
https://docs.google.com/document/d/1TpySxFjMZNoi6P3eLA5IZusexQ5Ruj0LUNHSJKAKKUc/edit


Post request: add users (register first time)
-------------------
With authentication Most routes need authentication

http://localhost:3001/auth/register
Post Request

{"username": "testuser5", "password": "testpass5", "firstName": "Test5", "lastName":"user5", "email":"joel5@joelburton.com", "isAdmin": false }

{
    "token": "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3R1c2VyNSIsImlzQWRtaW4iOmZhbHNlLCJpYXQiOjE2NjUxOTQwNDV9.zNVaMjqW3WsQ84i0YegpyPE1RmN3cq6eymbSMRGqG5E""
}

http://localhost:3001/auth/register
For admin set isAdmin: true

{"username": "useradmin", "password": "passadmin", "firstName": "AdminFirst", "lastName": "AdminLast", "email":"joel5@joelburton.com", "isAdmin": true }
Response:
{
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InVzZXJhZG1pbiIsImlzQWRtaW4iOnRydWUsImlhdCI6MTY2NDQzMTUzNn0.x74j9n3IJIXm04DUzeJE2VLtDePq-slouXuB0CMxtrc"
}


For Login
Post
http://localhost:3001/auth/token
{
    "username": "testuser5", 
    "password": "testpass5"   
}
Response
{
  
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3R1c2VyNSIsImlzQWRtaW4iOmZhbHNlLCJpYXQiOjE2NjUxOTQxMzJ9.aQzOzGXgHFg_18m0qLH816zo5uAXGldFQXuUQs6j9aI"
}


Admin Login token
Post
http://localhost:3001/auth/token
{
    "username": "useradmin", 
    "password": "passadmin"   
}
Response
{
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InVzZXJhZG1pbiIsImlzQWRtaW4iOmZhbHNlLCJpYXQiOjE2NjQ0MzAxODF9.tQi2rUmWhBmHv5St792xLHWgAuKkIeSn0RxEtFn7xIM"
}


For adding properties:
Post
http://localhost:3001/property/testuser5

Header contains
key: authorization
Value: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InVzZXJhZG1pbiIsImlzQWRtaW4iOmZhbHNlLCJpYXQiOjE2NjQ0MzAxODF9.tQi2rUmWhBmHv5St792xLHWgAuKkIeSn0RxEtFn7xIM

Body contains:
{"street": "1234 DirtDrive", "city": "San Diego", "state": "CA", "zip":92331, "property_type":1, "cost":900, "property_owner":"testuser4"}


Post
http://localhost:3001/property/testuser4
Headers
Key: authorization 
Value: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InVzZXJhZG1pbiIsImlzQWRtaW4iOmZhbHNlLCJpYXQiOjE2NjQ0MzAxODF9.tQi2rUmWhBmHv5St792xLHWgAuKkIeSn0RxEtFn7xIM
Body contains:
{"street": "1234 DirtDrive", "city": "San Diego", "state": "CA", "zip":92331, "property_type":1, "cost":900, "description": "Big Yard", "property_owner":"testuser4"}

For booking properties
Post
http://localhost:3001/booking/testuser2
Headers
key: authorization
Value: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InVzZXJhZG1pbiIsImlzQWRtaW4iOmZhbHNlLCJpYXQiOjE2NjQ0MzAxODF9.tQi2rUmWhBmHv5St792xLHWgAuKkIeSn0RxEtFn7xIM

Body Request:

{ "property_id" : 2, "date": "2022-8-23", "start_time": "06:00:00", "end_time": "07:00:00", "renter_id": "testuser2" }

Get request to get ones listings

http://localhost:3001/property?property_owner=testuser
-------------
{
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3R1c2VyIiwiaXNBZG1pbiI6ZmFsc2UsImlhdCI6MTY2NTUxNDE5Nn0.stjHkh-dKOtgc1cHVGx74PrwkHPxkhpau7vTfK-G0eA"
}